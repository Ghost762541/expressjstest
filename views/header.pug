html
  head
    title="Новый"
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous")
    link(rel="stylesheet" href="https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css")
    script(src="https://code.jquery.com/jquery-1.12.4.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js" integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ==" crossorigin="anonymous" referrerpolicy="no-referrer")
    //link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css" integrity="sha512-mSYUmp1HYZDFaVKK//63EcZq4iFWFjxSL+Z3T/aCt4IO9Cejm03q3NKKYN6pFQzY0SBOr8h+eCIAZHPXcpZaNw==" crossorigin="anonymous" referrerpolicy="no-referrer")
    //link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.7.14/css/bootstrap-datetimepicker.min.css")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker3.standalone.min.css" integrity="sha512-p4vIrJ1mDmOVghNMM4YsWxm0ELMJ/T0IkdEvrkNHIcgFsSzDi/fV7YxzTzb3mnMvFPawuIyIrHcpxClauEfpQg==" crossorigin="anonymous" referrerpolicy="no-referrer")

    script.
      function show_chart(){
        //alert(document.getElementById('date').value)
        let url = 'http://localhost:3000/users/chartjson/' + document.getElementById('date').value + "";
        // alert(url)
        //var canvas = document.getElementById("myChart");
        //- var ctx = canvas.getContext("2d");
        //- ctx.clearRect(0, 0, 400, 200);
        // $('#myChart').remove()

        $.get( url,  // url
          function (data, textStatus, jqXHR) {  // success callback
            //- var ctx = document.getElementById('myChart'); // node
            //- var ctx = document.getElementById('myChart').getContext('2d'); // 2d context
            //- var ctx = $('#myChart'); // jQuery instance
            //- var ctx = 'myChart'; // element id
            var pieChartContent = document.getElementById('divchart');
            pieChartContent.innerHTML = '&nbsp;';
            $('#divchart').append('<canvas id="myChart" width="400" height="200"><canvas>');

            //alert('status: ' + textStatus + ', data:' + data);
            var myChart = new Chart('myChart', {
              type: 'bar',
              data: {
                labels: ["00",  "01", "02", "03", "04", "05",  "06", "07", "08", "09", "10",  "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24"],
                datasets: [
                {
                  label: "users",
                  backgroundColor: "#c45850",
                  data:data,
                }
                ]
              },
              options: {
                legend: { display: false },
                title: {
                  display: true,
                  text: 'Predicted world population (millions) in 2050'
                }
              }
            });
          }
        )
          //alert("5")
          //document.location.href = "http://localhost:3000/users/chart";

          return false
      }

      $(document).ready(function() {
        $('#users_table').DataTable( {
          "processing": true,
          "serverSide": 0,
          "ajax": "http://localhost:3000/users/a",
          aoColumns: [
            { mData: 'titleUser' },
            { mData: 'accountId' },
            { mData: 'userId' },
            { mData: 'date_created' },
            { mData: '_id' , render : function ( data, type, row, meta ) {
                return '<a class="btn btn-danger" href="users/delete/' + data + '">Delete</a>'      
            }}
          ]
        });
        $('#datepicker').datepicker({
          format: 'yyyy-mm-dd'
        });
        $( "#chart_button" ).on( "click", "tr", function() {
          console.log( 5 );
        });
      });
      
      //- var jsDate = $('#your_datepicker_id').datepicker('getDate');
      //- if (jsDate !== null) { // if any date selected in datepicker
      //-     jsDate instanceof Date; // -> true
      //-     jsDate.getDate();
      //-     jsDate.getMonth();
      //-     jsDate.getFullYear();
      //- }

      //- $('.datepicker').datepicker({
      //-   format: 'yyyy-mm-dd',
      //-   startDate: 'd',
      //-   onSelect: function(){
      //-     let fullDate = 5;
      //-     //var fullDate = $.datepicker.formatDate("yy-mm-dd", $(this).datepicker('getDate'))
      //-     var str_output = "<h1>" + fullDate +"</h1>"
      //-     console.log(fullDate)
      //-     $('#page_output').html(str_output)
      //-   }
      //- });

  body.container
    block head 
      nav.navbar.navbar-expand-lg.navbar-light.bg-light.text-center.mx-auto.navbar-brand="header"
        a.nav-link.mx-1(href="/accounts") Accounts
        a.nav-link(href="/users") Users
        a.nav-link(href="/users/chart") Stat
    block content